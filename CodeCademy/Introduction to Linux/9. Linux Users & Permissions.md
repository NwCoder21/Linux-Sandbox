# Linux Users & Permissions

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/458e8000-fb4f-4082-9a2b-5c989862038f)

---

# Users, Groups, and Permissions in Linux - Introduction 


![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/4ae679d8-deaf-4add-84cc-e549d1fbd1e7)

Linux is a highly secure operating system. How? This lesson will dig into the way that Linux handles users, groups, and permissions to keep information secure.

Linux is designed from the ground up to prevent individual users from accessing areas of the file structure they shouldn’t access. Linux environment administrators have to define separate accounts and permissions to determine who can access specific files, directories, applications, and resources.

Throughout the lesson, we’ll go over:

* Classification of Linux users
* Users and groups
* File permissions
* Modifying users, groups, and permissions
* Admin-related commands

---

# Types of Linux Users

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/6d38024c-0020-496c-ab57-47d5b5d431e4)

Again, Linux is a highly secure operating system that depends on strict file permissions dictating which users and groups can access them. Let’s look at some classifications of users that are found on a Linux system.

Continue from 
https://www.codecademy.com/courses/introduction-to-linux/lessons/users-groups-and-permissions/exercises/types-of-linux-users

## Admin or Non-admin?

A Linux user is either an administrator or non-administrator. The administrator is a superuser (or root user) with full control over the entire system. With that in mind, it is important to ensure that only a very limited number of folks have read and write permissions on all the files in the entire system. In contrast, a non-administrator by default has limited (or no) access to certain system/configuration files.

## Normal user

A majority of the accounts will be non-administrators. These users can be divided into two subtypes: normal user or system user. Normal users are real people. The individual is given a user account for login and limited access to computer applications, files, and resources.

## System user

A system user is typically a non-human or computer-generated account. System users are created to run a specific program or process/daemon such as a web server or backup program. This type of “user” is limited in control and is assigned only enough access to manage its particular process.

---

# Users and Groups in Linux

Now that we’ve covered how different Linux users can coexist, let’s learn about users, groups, and their IDs!

On a Linux system, all users added are assigned a name, unique user identification (UID), group, and group identification (GID). When a user is initially created, a new UID and matching GID are assigned.

UID and matching GID numbers are assigned based on the type of user:

* Administrator (root): UID and GID = 0
* System user (computer-generated): UID and GID assigned from 1 to 999
* Normal users (real people): UID and GID = 1000 or greater, incremented with every new user

The new user is by default assigned a matching group name (and typically a matching GID) so that the user will be a member of their own group. For example, a user stephen (UID = 1000) will also be assigned to the group stephen (GID = 1000).

We can create groups and add users to them. For example, in our diagram, we have a group called **Business** that includes the user **Tony**. Users can also exist in more than one group as well.

We can use the `id` and `groups` commands in the terminal to check our `uid` and `gid`:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/99b6ac93-deb8-4896-9eeb-df72ee5d036e)

Admin users can also view and modify the user and group information stored in the read-only **/etc/passwd** and **/etc/group files**.

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/6b78f4cf-33d8-441e-a0a7-2a03149ad417)

Up next, we’ll talk about how users and groups relate to file permissions.

--- 

# Instructions

---

Step 1: Let’s use the `id` command in the terminal to see our own `UID`, `GID`, and group memberships. Currently, our username is `ccuser`.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/d2899c19-56de-4fc9-bd36-42d9ce14e15e)

Hint: The command structure is:

```yaml
id [username]
```

---

Step 2: Now, let’s use the `groups` command in the terminal to see a list of groups that we are members of. So far, `ccuser` should be the only group.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/78d2a56e-a2ec-4c10-8f50-b8a45efda9fb)

Hint: The command structure is:

```yaml
groups [username]
```

---

# File Permissions in Linux

How do users and groups relate to what files they can access?

If we use the command `ls -l` on a working directory, we will see directory/file permissions, user, group, filesize, creation date/time, and filename.

In Linux, everything is based on file permissions. Each file or directory has an owner and a group (or groups) that usually has more permissions to read, write, or execute than users not in the owner or in the permission group.

![image](https://github.com/NwCoder21/Azure/assets/107522496/c77292dd-2868-48e5-8c45-2fd0041b77bb)

Let’s break down the permissions line for **file-1.txt** from the screenshot:

```
-rw-rw-r--
```

Note: the first character identifies the resource as either a directory (`d`) or file (`-`).

The following nine characters should actually be read as triplets: `rw-` for the file owner, `rw-` for the group(s) that have permission to the file, and `r--` for all others. What do these symbols mean?

* read (`r`) = contents can be viewed but not edited, renamed, added, or deleted
* write (`w`) = contents can be viewed, edited, renamed, added, and deleted
* execute (`x`) = contents can run as a program or script
* (`-`) = permissions don’t apply

So, the permissions shown for **file-1.txt** means that the owner can read and write, the group can read and write, and all others can only read.

Read-write-execute permissions can also be written as numbers, with each being a power of two. Each set of triplets can be expressed as the sum of the permissions that apply.

![image](https://github.com/NwCoder21/Azure/assets/107522496/e6c56025-dbd7-480b-aac4-687efd83e6ea)

For example, a file’s permission being `777` is equivalent to `rwxrwxrwx`, whereas a file’s permission being `755` is equivalent to `rwxr-xr-x`.

## Default Permissions

When a normal user creates a folder, the default owner for the user and group is set to the username. The default permissions are typically set to 755 (or “rwx” for the user, “rx” for the group, and “rx” for others). These defaults are designed to restrict access until deliberately granted!

When a user then creates a file inside the folder, the default owner for the user and group is again set to the username while the permissions for that file are set to `644` (or “`rw`” for the user, “`r`” for the group, and “`r`” for others).

In the following exercise, we’ll go over how these permissions can be changed!

--- 

--- 

# Instructions

![image](https://github.com/NwCoder21/Azure/assets/107522496/76db06d2-6d4c-42ee-88c8-68c29532a37c)

---

Step 1: In the terminal, use the `ls -l` command to see the permissions for the listed files in the current working directory.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/b691d8ea-3f3e-4f22-8d75-4cb71f94aa6f)

---

Step 2: Now, let’s make a new file to see the default permissions. In the terminal, create a new empty file named **payroll.csv** by using the `touch` command.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/e467ed9a-fe09-4bd2-8e21-c10b14c8745a)

Hint: To create a new file, use the command `touch` with the intended filename.

---

Step 3: Now, view the files & permissions using the `ls -l` command. What permissions does file **payroll.csv** have in terms of read-write-execute?

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/d14b07a9-eeb8-43e7-aece-2690cedeb5bd)

Hint: The **payroll.csv** file will show `-rw-r--r--` as its permissions.

---

Step 4: Now let’s change the permissions on the newly created file so that only the owner and group can read it (but not write or execute). Use the `chmod` command to update permissions for the user, group, and others for **payroll.csv**.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/107bd847-fcdb-4534-8239-9f69a1cef534)

Hint: The command format is: `chmod [permission values] [filename]`

Remember:

* read = 4
* write = 2
* execute = 1

---

Step 5: Run the `ls -l` command one more time to verify the permission changes. What are the **payroll.csv** permissions now?

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/37f5e43b-e1ff-4b22-a703-9fbd36fa1d81)

Hint: The **payroll.csv** file now shows `-r--r-----`.

---




























