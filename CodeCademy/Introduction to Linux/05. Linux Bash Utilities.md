# Linux Bash Utilities

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/288dce55-1c32-466d-aae5-661726b059e8)

[Learn the Command Line course](https://www.codecademy.com/learn/learn-the-command-line)

---

# Linux Shell Utilities

# Introduction

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/1600c5df-4df9-4504-8805-309df755eb9b)

In this lesson, we will be introducing you to a variety of Bash commands to handle specific needs such as:

* **Documentation**: the Linux shell can be a daunting place for a beginner. Thankfully it comes with a few utilities to help you out when you’re stuck or need a cheat sheet.
* **File archiving and compression**: you will no doubt come across compressed or archived files with `.zip` or `.tar` file extension. We will discuss the terminal commands used to compress, decompress, archive, and extract files.
* **Networking**: we will talk about all the basic network monitoring or accessing the Linux shell has to offer for downloading files from a destination to checking network connectivity.

Let’s get started!

---

# Access Documentation in Linux

Linux provides many ways to access documentation for other commands! Before we had the ability to use search engines to look up any questions we had, offline documentation was our only point of reference.

We can access documentation in the terminal itself using these files and commands:

* The `/usr/share/doc/` directory
* The `man` command
* The `info` command

## /usr/share/doc/

The /usr/share/doc/ directory contains README files, simple text files that describe a program, for many installed packages in your Linux distribution. You can explore the documentation available there using the command below.

The `/usr/share/doc/` directory contains README files, simple text files that describe a program, for many installed packages in your Linux distribution. You can explore the documentation available there using the command below.

```
ls /usr/share/doc
```

## The `man` command

The `man` command is used to access the manual pages, the traditional way of distributing documentation for all bash programs. The command

```
man [options] <command_name>
```

will give us the command’s manual page includes a brief synopsis of the program, a description that lists all options, and examples.

For example, `man cat` will display the manual page for the command `cat`. The manual pages can be rather long but don’t be alarmed. We can also browse the manual pages online.

## The `info` command

Even though manual pages are somewhat outdated, they make for great cheat sheets/reference cards. For full and detailed documentation, we can use the `info` command which also contains more recent information about programs than man. Its basic usage is:

```
info [options] <command_name>
```

For example, running `info cat` in the terminal will provide detailed information about the command `cat`.

--- 

# Instructions

![image](https://github.com/NwCoder21/Azure/assets/107522496/5fb0ab54-1c32-4e37-a167-e87550ca072d)

---

Step 1: Use `ls` to see inside the directory `/usr/share/doc/`.

Each one of the directories you see includes READMEs, examples, changelog, and more for their respective programs.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/eff571a5-6bc3-4f72-84d4-bcbc675eb62c)

Hint: 

```
ls /usr/share/doc/
```

---

Step 2: Open up the man page for the command `ls`. You can exit the man page at any time by pressing the `q` key.

We can scroll through the man page with the `up` and `down` arrow keys. To search a string, we can type `/`followed by the search text and press the `Enter`. We can step through the results with the `n` key.

When you quit out of the manual page, press `Enter` into a new line to complete this checkpoint!

Solution:

```
man ls
```
![image](https://github.com/NwCoder21/Azure/assets/107522496/b094ab1f-05be-4927-b266-f3f9790865cc)

Hint: `man`’s syntax is as follows:

```
man [options] <command_name>
```


---

Step 3: Open up the man page for the command `man` itself. The manual page for the `man` command is a good place for a beginner to start getting familiar with manual pages. When you’re ready, press `q` to close the manual page.

You might have noticed the `MAN(1)` in the upper corners of the manual page. The number in the parenthesis refers to the manual [section](https://en.wikipedia.org/wiki/Man_page#Manual_sections). Section `1` refers to general commands, `2` refers to system calls, and so on.

When you quit out of the manual page, press `Enter` into a new line to complete this checkpoint!

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/1a603824-3d4d-435b-bc6b-6043fba250fd)

Hint: `man`’s syntax is as follows:

```
man [options] <command_name>
```

---

Step 4: Open up the `info` page for the command `ls`. Notice the stark difference in detail between the manual page and the info page.

The controls to browse the info pages are very similar to the manual page except you can press enter when the marker is over an underlined section to jump straight to that section. When you’re ready, press `q` to close the page.

When you quit out of the `info` page, press `Enter` into a new line to complete this checkpoint!

Solution:

```
info ls
```

![image](https://github.com/NwCoder21/Azure/assets/107522496/f6a1821b-aa75-4600-beef-136ce5c0ac91)

Hint: `info`’s syntax is as follows:

```
info [options] <command_name>
```

---

# Compression Utilities

Chances are you’ve come across archived or compressed files and downloaded them. To interact with them through the command line, the Linux shell comes standard with many [compression / decompression](https://en.wikipedia.org/wiki/Data_compression) and [archive / extraction](https://en.wikipedia.org/wiki/Archive_file) commands.

Let’s first talk about the compression commands which reduce file sizes and [differ mainly by the algorithms](https://linuxreviews.org/Comparison_of_Compression_Algorithms) behind them. Three popular compression commands are:

* `gzip`: retains the original file’s ownership modes, access, and modification timestamps. Compressed files have the `.gz` extension.
* `bzip2`: compressed files have the `.bz2` extension.
* `xz`: compressed files have the `.xz` extension.

The syntax to compress a file using one of these compression utilities is:

```
<compression_utility> [options] <file_name>
```

For example, the command `gzip hello.txt` will result in a compressed file named `hello.txt.gz` and delete the original file. Adding the `-k` option will retain the original file.

Multiple files can be compressed by adding all of their names as arguments or by using the wildcard symbol (`*`). For example:

```
bzip2 poem.txt riddle.txt
```

will result in two compressed files: `poem.txt.bz2` and `riddle.txt.bz2` whereas

```
xz *.txt
```

would compress all files in the current directory with the `.txt` extension.

The `gzip` command has the ability to compress all files in a directory using the `-r` option and providing the path to a directory.

Files can be decompressed using the `-d` option.

Note: For more information and options, you can refer to the manual or info pages for these commands or use the `--help` option for each command.

In the next exercise, we will learn about the popular archive utilities available on the Linux shell: `zip` and `tar`.

--- 

# Instructions

![image](https://github.com/NwCoder21/Azure/assets/107522496/3dc53cd2-60f7-4f21-8bf6-30dbbe21470a)

---

Step 1: Run the command `ls -R` to see all the files in the current directory and subdirectories.


Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/9e14ca28-0abc-4fe5-abd6-d3f4802957ad)


---

Step 2: Compress the file `poem.txt` using gzip.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/105a2794-27e6-438b-ae0a-15f242f4c051)

Hint: We can compress a file with `gzip` using

```
gzip <file_name>
```

---

Step 3: In one command, compress the files **hello.txt** and **bye.txt** (the two `.txt` files in the directory) using `bzip2`.


Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/dbf83b12-2fad-412c-afc6-cd17058231e5)

Hint: We can compress multiple files with `bzip2` using

```
bzip2 <file1> <file2> <file3> ..
```

OR

```
bzip2 *.<file_extension>
```

---

Step 4: Compress the file **codecademy.png** with `xz` using the `-k` option.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/738f659c-0530-4bb8-bd91-bfc266b29d61)

Hint: We can compress a file with xz using

```
xz [options] <file_name>
```

OR

```
xz <file_name> [options]
```

---

Step 5: Using `bzip2` and the `-d` option, decompress all the files `.bz2` files inside the directory `riddles`.

To refer to the files, you can use the path `riddles/*.bz2`!

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/e2bf37d1-47c3-4fc1-a960-64ed70510434)

Hint: Notice that the files are all compressed using `bzip2` since their extension is `.bz2`. To decompress all `.bz2` files in a directory, use

```
bzip2 -d <directory>/*.bz2
```

---

Step 6: Now, compress all the files in the `riddles` directory using `gzip` with the `-r` option.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/10540102-d5d0-4491-9261-bada09aef3d3)

Hint: We can compress all files in a directory with `gzip` using

```
gzip -r <directory>
```

---

Step 7: Run the command `ls -R` again to see the resulting files.

Solution:

![image](https://github.com/NwCoder21/Azure/assets/107522496/6bd29448-32b3-4a86-9857-ca3818db5c48)

---

# Archive Utilities

Archiving allows us to consolidate multiple files or directories into a single [archived file](https://en.wikipedia.org/wiki/Archive_file). Two of the popular archive commands on Linux, `zip` and `tar`, have the ability to compress and archive files. This means that unlike the compression commands which compress a single file at a time, the files’ size will be reduced and packaged into a single archive file in one command.

## `zip`

Zip files are very popular across multiple operating systems. We can create a `.zip` archive like so:

```
zip <archive_name>.zip <file1> <file2> …
```

Note: On some distributions of Linux, `zip` must first be installed using the command `sudo apt install zip unzip`.

Directories can be easily archived with the `-r` option. Archived files can be extracted and decompressed using the `unzip` command and providing paths to one or more `.zipfiles`. 

## `tar`

`tar`, which stands for tape archive or tarball, is a very important archiving utility for Linux systems. While a `zip` archive is more popular across platforms, it is recommended to use `tar` when distributing archives among Linux-based systems. This is because `tar` archives store Unix file attributes, retaining file permissions and other metadata.

```
tar -cf <archive_name>.tar <files or directories>
```

creates an uncompressed `.tar` archive. A `.tar` file can be referred to as a tarball.

For example,

```
tar -cf example.tar index.html script.js style.css
```

will create a `.tar` archive file with three files: `index.html`, `script.js`, and `style.css`.

To extract the files in a `.tar` archive, we can use the `-xf` option.

```
tar -xf <archive_name>.tar
```

In the next exercise, we will learn how to further compress `.tar` files.

--- 

# Instructions

---

Step 1: Run the command `ls -R` to see all the files in the current directory and subdirectories.


Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/d1df1fd9-165f-483f-9715-c107b19e51d2)

---

Step 2: Extract the archive named `important.zip`


Solution:

Hint: Use `unzip` to extract `.zip` archives.

```
unzip <archive_name>.zip
```

---

Step 3: Create a `.zip` archive of the riddles directory. At the end, there should be one file called `riddles.zip`.

Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/51dc3858-6581-4b5f-9401-45231206ef13)

Hint: Use `zip` and the `-r` option to create a `.zip` archive of a directory.

```
zip <archive_name>.zip -r <directory>
```

---

Step 4: Extract the `files.tar` tarball


Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/cfa65530-cd87-4a06-9bb5-1770a6a60451)

Hint: We can extract a `.tar` archive using

```
tar -xf <archive_name>.tar
```
---

Step 5: Create a tarball named `text_files.tar` of the files **hello.txt**, **bye.txt**, and **poem.txt**.

Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/025a0f4b-1491-45bf-8264-0f19fd5bcc96)

Hint: We can create a `.tar` archive using

```
tar -cf <archive_name>.tar <file1> <file2> ..
```
---

Step 6: Run the command `ls -R` again to see the resulting files after using the commands we just learned.


Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/d10e08ef-4912-44ca-960f-2a3b87f2aa15)


---

# Compressing .tar Files

What makes `tar` powerful is that we can combine it with the compression utilities we discussed in a previous exercise to create a compressed archive. `tar` with the `-c` and `-f` options relate to archiving functionalities, but we can also call `tar` with other options to compress:

* `-z` : Compress the resulting archive using `gzip`. Resulting file extension: `.tar.gz`.
* `-j` : Compress the resulting archive using `bzip2`. Resulting file extension: `.tar.bz2`.
* `-J` : Compress the resulting archive using `xz`. Resulting file extension: `.tar.xz`.

For example, to compress an archive/tarball of some video files `video1.mp4` and `video2.mkv`, where we want the resulting compress archive to be called `videos.tar.bz2` we use the following command:

```
tar -cjf videos.tar.bz2 video1.mp4 video2.mkv
```

The compression and archiving results in the concatenation of file extensions. Make sure the extension of the archive name corresponds with the compression option.

## Decompressing and Extracting `.tar` Files

To extract and decompress a compressed `.tar` archive, we change the option `-c` to `-x`:

```
tar -xjf videos.tar.bz2
```

Be sure to use the right option that corresponds with the compressed format, whether it’s `bz2`, `xz`, or `gzip`.

--- 

# Instructions

---

Step 1: Run the command `ls -R` to see all the files in the current directory and subdirectories.


Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/812af147-b48d-4dd4-a789-654483f8b259)

---

Step 2: Using a `gzip` command, compress the tarball named `files.tar`.

Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/5b434387-1f09-4916-b0b7-67dfb19af6b9)

Hint: We can compress a tarball with `gzip` using

```
gzip <tarball_name>
```

The resulting file will have the `.tar.gz` extension.


---

Step 3: Use the `tar` command with `bzip2` compression to create a tarball of the `riddles` directory using a single command. The desired name of the compressed archive is `riddles.tar.bz2`.

Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/0d62df8e-9196-481d-898c-035d37735789)

Hint: 

```
tar -cjf <archive_name>.tar.bz2 <directory>
```
---

Step 4: Use the `tar` command with `xz` compression to create a tarball of the `riddles` directory using a single command. The desired name of the compressed archive is `riddles.tar.xz`.


Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/b30c4d25-a93d-4709-add3-34038e66fe78)

Hint: 

```
tar -cJf <archive_name>.tar.xz <directory>
```
---

Step 1: Run the command `ls -R` again to see the resulting files.


Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/4effc3a2-c0ba-42e4-b82a-56c6ca02aaf1)

---

# Network Utilities

Almost every computer in the world is now connected to a network. The Linux shell makes it easy to communicate with content on the Internet from the command line, and for the user to check on important network status information. In this exercise, we will introduce a few tools that you may find useful.

## Interacting with Files Hosted Online

Let’s start simple: how do we access files from the Internet in the command line? There are two commands that allow us to do just that: `curl` and `wget`. Either command lets us establish a connection with a server. We can also use them to download the file at the destination.

```
$ curl <URL in quotes>
```

displays the contents of the file at the URL in terminal.

The option `-o` or `-output` combined with a desired name

```
$ curl <URL> --output <desired_filename>
```

lets us write the contents of the online file to the filename! For example, `curl -O "https://www.google.com" --output frontpage.html` will download the HTML file of the Google homepage to a local file called **frontpage.html**.

There are more commands if we type `curl --help` or `wget --help`. As always, you can also use the `man` command to read about the commands.

## Checking Network Connectivity

How can we check whether two devices connected to the same network can communicate with one another? Simple! We use a command called `ping`, short for Packet INternet Groper. The command

```
ping [options] <target domain or IP>
```

sends packets to the target host and waits for replies. If the ping command returns with a failure, that means the target is unreachable.

## DNS Resolution

What if we wanted to find out the IP address for any given domain name or vice versa? This process is known as [DNS lookup or DNS resolution](https://nlp.stanford.edu/IR-book/html/htmledition/dns-resolution-1.html) and the host command lets us do exactly that. The basic syntax for the host command is: `host <domain or IP>`.

For example, the command `host google.com` will generate the following output:

```
google.com has address 142.250.72.238
google.com has IPv6 address 2607:f8b0:4007:817::200e
google.com mail is handled by 20 alt1.aspmx.l.google.com.
google.com mail is handled by 40 alt3.aspmx.l.google.com.
google.com mail is handled by 30 alt2.aspmx.l.google.com.
google.com mail is handled by 10 aspmx.l.google.com.
google.com mail is handled by 50 alt4.aspmx.l.google.com.
```
## Network Interface Status

The `ifconfig` command, or interface configurator, is one of the network inspection commands available on Linux. Running it will display IP addresses, MAC addresses, and some more relevant details.

These commands are really useful if you work with networks specifically! If you’d like to learn more about networks, check out our [Introduction to Network Basics](https://www.codecademy.com/courses/introduction-to-cybersecurity/lessons/network-basics/exercises/introduction-to-network-basics) lesson.

As always, we recommend using `man` or `info` for more detail on these commands as we are barely skimming the surface of what these commands can do!

--- 

# Instructions

---

Step 1: Use `wget` to download Codecademy’s homepage, `www.codecademy.com`.

Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/23fab17f-d669-4638-8611-1fadf614e4f1)

Hint: 

```
wget www.codecademy.com
```
---

Step 2: Use `curl` to download the file from the URL, `https://static-assets.codecademy.com/Courses/learn-linux/secret-file.txt`.


Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/091ad263-7814-4431-b160-4c354f2d0c03)

Hint: Use this command:

```
curl -O https://static-assets.codecademy.com/Courses/learn-linux/secret-file.txt
```
---

Step 3: Use the `host` command to look up the IP address for the domain `codecademy.com`


Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/e1f7e379-ee14-49ae-b833-a002c5e9b2da)

Hint: 

```
host codecademy.com
```

---

Step 4: Use the `ping` command to ping one of the IP addresses you found from the last checkpoint.

Note: Make sure to interrupt `ping` with `CTRL` / `CMD` + `C`, otherwise it runs indefinitely. Alternatively, we can specify how many packets we wish to send using the `-c` [option](https://en.wikipedia.org/wiki/Ping_(networking_utility)#Invocation_example).

Solution:

Hint: Use the `ping` command to ping one of the IPv4 addresses like `104.18.199.63`.

---


Step 5: Run the `ifconfig` command and observe the result.

On the left, you will see all the available network interfaces, including virtual network interfaces. For each interface, you will see:

* `HWaddr`: MAC address of the ethernet interface
* `inet`: IPv4 address assigned to the interface
* `inet6`: IPv6 address assigned to the interface
* `MTU`: Maximum transmission unit

Solution:

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/7a6a946d-8051-44ca-b497-f8dc49b4a071)


---

# [Review](https://www.codecademy.com/courses/introduction-to-linux/lessons/linux-shell-utilities/exercises/review)

You are now well-equipped or at least aware of the number of utilities available in the Linux shell. To review, we talked about:

## Documentation

Documentation is a great way to learn about installed utilities.

* The `/usr/share/doc/` directory contains README files and other documents for installed commands.
* `man` is a command to access reference manual pages for all installed commands. Usage: `man <command_name>`.
* `info` is a command to access full-detailed information pages for all installed commands. Usage `info <command_name>`.

## Compression

Compression reduces file sizes. Three popular compression commands are `gzip`, `bzip2`, and `xz`. To compress, run commands like so: `<compression_utility> [options] <file_name>`. To decompress, include the `-d` option: `<compression_utility> -d <compressed_file_name>`. `gzip` also supports the `-r` option to compress all files in a directory.

## Archive

`zip` and `tar` are two archiving utilities that package multiple files into a single archive file. `zip`: archives and compresses files.

* Archive: `zip <archive_name>.zip <file1> <file2>...` Use `-r` option for directories.
* Extract: `unzip <archive_name>.zip`.

`tar`: only archives files by default but has options to utilize compression utilities. Unlike `zip`, it preserves Unix file attributes like file permissions.

* Archive: `tar -cf <archive_name>.tar <files or directory>`.
* Extract: `tar -xf <archive_name>.tar`.
* Add options `-z`, `-j`, or `-J` to compress via `gzip`, `bzip2`, or `xz` respectively.

## Networking

Basic network commands:

* `curl` or `wget`: Interacts with a webpage or file hosted online.
* `ping <target domain or IP>`: Checks connectivity between two devices on the same network.
* `host <domain or IP>`: Performs DNS lookups.
* `ifconfig`: Shows network interface information.

Feel free to practice in the terminal!





# Quiz





















--- 

# Instructions

---

Step 1:


Solution:

Hint: 

---

Step 2:


Solution:

Hint: 

---

Step 3:


Solution:

Hint: 

---

Step 4:


Solution:

Hint: 

---





















