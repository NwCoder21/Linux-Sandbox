# Practise Bash Scripting in Linux

---

# Bash Scripting In Application

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/dc55ae88-4299-4e46-9732-940078b5b751)

---

# Introduction

In this lesson, we will explore the potential of Bash scripting. Since we can run any terminal command in a Bash script, there are truly endless possibilities. The ability to execute and link multiple commands with programming logic allows us to easily automate tasks and run configuration services.

Bash scripts are often the backbone of many services and servers! In the industry, scripts are commonly used for:

* Application installation or deployment. A script can contain instructions to compile, configure, and execute an application. Packages downloaded via the terminal with `wget` or `curl` are often installed and configured to the environment using scripts.
Automating tasks during a [cron](https://en.wikipedia.org/wiki/Cron) job, which essentially schedules scripts to run. For example, a cron job might trigger a script to periodically check the health of a web API and set off an alert if the service is unreachable.

Scripts are great tools that can also be referred to by other scripts! That means we can reuse scripts others write on the internet.

In this lesson, we will practice writing two scripts:

* One that prints a file directory structure in a tree-like format.
* One that prints song lyrics and has the user guess the song name.

---

# Instructions

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/b68134ca-3a76-4d11-936f-e339acb7c906)

---

Step 1: As a preview, let’s run the scripts we will be writing.

First, run `./tree.sh ~` on the terminal. This script prints the directory structure of the current directory.

Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/4737ade3-e5c6-4436-b7f8-5ebbd16a4ab3)

---

Step 2: Run `./lyrics.sh -a Adele -s Rolling in the Deep` in terminal.

This script fetches the lyrics of the requested song. We will be using this script to develop our game in a later exercise.

Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/bc17d150-d667-455f-acfb-901cd55c6ed4)

---

# Print Directory Structure Script I

Let’s work on a basic script that prints a directory structure in a tree format, which is useful for viewing nested subdirectories. The script takes advantage of the powerful commands that the Linux shell provides for file and folder operations.

We will be using conditional statements as well as the following commands:

* `echo`
* `cd`
* `pwd`
* `ls`
* `grep`
* `sed`
* `wc`

This script will take in an optional string argument: the parent directory that should be the starting point for the tree. If this is not provided, we will use the current working directory. We will print a message if the parent directory has no subfolders to print. If we find there are subfolders to print, we’ll use a combination of the commands `ls`, `grep`, and `sed` to print the directory structure tree.

We will be working on the script named `tree.sh`, which is already opened in the editor.

---

# Instructions

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/b48d6b54-932d-4470-850c-02c04b1787e7)

---

Step 1: Let’s begin by checking the `tree.sh` script to see if an input argument was provided. If so, we should change the current working directory to that argument.

In the code editor, where there’s a comment in the file, add a conditional statement that:

* Checks if `$1` was not equal to an empty string `""`
* If so, the script should `cd` to `$1`

Remember to use quotes around `$1`!

Click the `Run` button when you are done.

Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/31a77b24-db64-45ad-8b61-6cfd138386af)

Hint: Add the following lines after the comment:

```yaml
if [ "$1" != "" ]
   then cd "$1"
fi
```

---

Step 2: After the conditional statement, use the `pwd` command to print out the current working directory.

Click the `Run` button when you are done.

---

Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/32df011f-ac1e-4170-add6-da5d4acae229)

---

Hint: The code should now look like the following:

```yaml
if [ "$1" != "" ]
   then cd "$1"
fi
 
pwd

```

---

Step 3: Next, use the following in a conditional statement to check if no subdirectories exist under the parent directory.

```yaml
`ls -F -1 | grep "/" | wc -l` = 0
```

The logic behind the statement:

> The provided conditional statement uses `ls` lists files and directories with indicators one line at a time. `grep` is then used to find the `/` indicator which implies a directory. If the line count calculated by `wc -l` is `0`, then no subdirectories exist. 

If the above statement is true, use `echo` to print `" -> no sub-directories"`.

Click the `Run` button when you are done.

---

Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/4f0b1968-a112-4542-9308-1bf27b22e548)


```yaml
#!/bin/bash

# Begin code below:
# If input argument, cd to the directory in the input argument

if [ "$1" != "" ]
   then cd "$1"
fi

pwd

if [ `ls -F -1 | grep "/" | wc -l` = 0 ]
  then echo " -> no sub-directories"
fi
```

Hint: Add the following lines after the `pwd` line:

```yaml
if [ `ls -F -1 | grep "/" | wc -l` = 0 ]
   then echo "   -> no sub-directories"
fi
```

---

Step 4: After script is in the right directory, use the `ls` command with the `-R` option to print subdirectories recursively. This prints out all the files, categorized by the directories they are located inside.

Click the `Run` button when you are done.

---

Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/8d08be3a-682c-4c53-a103-b68c238daaf2)

```yaml
#!/bin/bash

# Begin code below:
# If input argument, cd to the directory in the input argument

if [ "$1" != "" ]
   then cd "$1"
fi

pwd

if [ `ls -F -1 | grep "/" | wc -l` = 0 ]
  then echo " -> no sub-directories"
fi

ls -R
```
---

Hint: Add the following line:

```yaml
ls -R
```

---

Step 5: Run `./tree.sh ~` with the home (`~`) directory as the input argument.

Notice how the output includes all subdirectories but also all the files in those directories as well. We will filter out individual files and format the output in the next exercise!

---

Solution: 

![image](https://github.com/NwCoder21/Linux-Sandbox/assets/107522496/fac4d295-d3a0-452e-8e8c-ae6dbf120efa)

Hint: Run `./tree.sh ~` in the terminal.

---

























---

# Instructions

---

Step 1: 

Solution: 

Hint: 

---

Step 2: 

Solution: 

Hint: 

---

Step 3: 

Solution: 

Hint: 































